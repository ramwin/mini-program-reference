** Xiang Wang @ 2018-04-11 10:32:41 **


## 自定义组件
* [官网](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/)
### 创建自定义组件
1. page.json
    ```
    {
        "usingComponents": {
            "tag-name": "component/path"  # tag里面不能有数字和大写
        }
    }
    ```
2. component.js
    ```
    Component({
        properties: {
            innerText: {
                type: String,
                value: "default value",
            }
        }
    })
    ```

* 使用自定义组件
设置`.json`文件
```
{
 "usingComponents": {
   "component-tag-name": "path/to/component"
 }
}
```

### 组件模板和样式
#### 组件模板(待续)
#### 组件样式
* 外部样式类
在外面调用组件的时候可以传递class

* 全局样式类
组件内部可以使用全局样式
```
Component({
    externalClasses: ['my-class'],  # 外部拓展的样式
    options: {
        addGlobalClass: true,
    }
})
```

### Component构造器
* #### properties 外部传入的属性
```
Component({
  properties: {
    myProperty: {
      type: String,  // 可以是String, Number, Boolean, Object, Array, null(任意类型)
      value: "",  // 初始值
      observer: function(newVal, oldVal, changePath) {
        // 修改的时候会触发 也可以写在methods中的 _propertyChange函数
      }
    }
  }
})
```

* data
* [ ] 其他

### 其他
* [ ] [构造器](https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/component.html)
    * 事件
        * created: 创建好了，这时候不能使用setData
        * attached: 加载好了，这时候可以用直接输入的那些数据，innertype="create", 这个变量可以用了
        * ready: 组件布局完成，这时候可以用onload里面生成然后传入组建的数据, innerid="{{resource.id}}", 这个变量可以用了
* [ ] 事件
    * 组件.js
    ```
    var myEventDetail = {'mydetail': 'mydetail'}
    var myEventOption = {'myoption': 'myoption'}
    this.triggerEvent('sing', myEventDetail, myEventOption);
    ```
    * 触发的选项
        * bubbles: 是否冒泡(false)
        * [ ] composed: 是否穿越组件(false)
        * [ ] capturePhase: 是否拥有捕获阶段(false)
